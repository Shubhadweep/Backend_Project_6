<%- include('../Includes/header.ejs')%>

<link rel="stylesheet" href="/CSS/userDetails.css">

<%-include('../Includes/navbar.ejs')%>

</head>
<body>
  <%if(data.length > 0){%>
    <%if(cityData.length > 0){%> 
    <div class="dropdown d-flex mt-5 justify-content-end">
      <button class="btn btn-success dropdown-toggle me-4" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          Search By City
      </button>
      <ul class="dropdown-menu">
        <%for(let value of cityData){%>
        <li><a class="dropdown-item" href="/citySearch/<%=value%>"><%=value%></a></li>  
        <%}%>
      </ul>
    </div> 
    <%}%>

    <div class="container">
        <h2 class="text-center">User Information</h2>
        <table class="table table-striped table-responsive">
            <thead>
            <tr>
                <th>UserName</th>
                <th>UserCity</th>
                <th>Email ID</th>
            </tr>
            </thead>
          <%for(let obj of data){%>  
            <tbody>
            <tr>
                <td><%=obj.userName%></td>
                <td><%=obj.city%></td>
                <td><%=obj.email%></td>
            </tr>
         <%}%> 
        </table>
    </div>
  <%}else{%> 
    <h2>No Data Found</h2>
    <%}%>
    
<%-include('../Includes/footer.ejs')%>
